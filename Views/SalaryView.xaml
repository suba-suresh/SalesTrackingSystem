<Window x:Class="SalesTrackingSystem.Views.SalaryView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Employee Salary Management"
        Icon="/Images/logo.ico"
        Height="650" Width="1000"
        WindowStartupLocation="CenterScreen"
        Background="#FAFAFA">

    <Grid Margin="20">

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Header -->
            <RowDefinition Height="Auto"/>
            <!-- Form -->
            <RowDefinition Height="*"/>
            <!-- DataGrid -->
            <RowDefinition Height="Auto"/>
            <!-- Footer Buttons -->
        </Grid.RowDefinitions>

        <!-- HEADER -->
        <TextBlock Text="Employee Salary Management"
                   FontSize="26"
                   FontWeight="Bold"
                   Foreground="#333"
                   Margin="0,0,0,10"/>

        <!-- FORM -->
        <Border Grid.Row="1"
                Background="White"
                CornerRadius="10"
                Padding="20"
                BorderBrush="#DDD"
                BorderThickness="1"
                Margin="0,10,0,20">
            <StackPanel Orientation="Vertical">

                <!-- EMPLOYEE NAME -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="Employee Name:" Width="150" VerticalAlignment="Center"/>
                    <TextBox Text="{Binding EmployeeName, UpdateSourceTrigger=PropertyChanged}"
                             Width="250"
                             Height="28"
                             Margin="0,0,10,0"/>
                </StackPanel>

                <!-- HOURLY RATE -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="Hourly Rate:" Width="150" VerticalAlignment="Center"/>
                    <TextBox Text="{Binding HourlyRate, UpdateSourceTrigger=PropertyChanged}"
                             Width="150"
                             Height="28"
                             Margin="0,0,10,0"/>
                </StackPanel>

                <!-- HOURS WORKED -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="Hours Worked:" Width="150" VerticalAlignment="Center"/>
                    <TextBox Text="{Binding HoursWorked, UpdateSourceTrigger=PropertyChanged}"
                             Width="150"
                             Height="28"
                             Margin="0,0,10,0"/>
                </StackPanel>

                <!-- TOTAL PAY -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="Total Pay:" Width="150" VerticalAlignment="Center"/>
                    <TextBox Text="{Binding TotalPay}"
                             Width="150"
                             Height="28"
                             IsReadOnly="True"
                             Background="#F0F0F0"
                             Margin="0,0,10,0"/>
                </StackPanel>

                <!-- PAY DATE -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="Pay Date:" Width="150" VerticalAlignment="Center"/>
                    <DatePicker SelectedDate="{Binding PayDate}" Width="200" Height="28"/>
                </StackPanel>

                <!-- NOTES -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="Notes:" Width="150" VerticalAlignment="Top"/>
                    <TextBox Text="{Binding Notes, UpdateSourceTrigger=PropertyChanged}"
                             Width="300"
                             Height="60"
                             AcceptsReturn="True"
                             TextWrapping="Wrap"/>
                </StackPanel>

                <!-- BUTTONS -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20,0,0">
                    <Button Content="Add"
                            Width="100" Height="32"
                            Background="#4CAF50"
                            Foreground="White"
                            Command="{Binding AddCommand}"
                            Margin="6,0"/>
                    <Button Content="Update"
                            Width="100" Height="32"
                            Background="#2196F3"
                            Foreground="White"
                            Command="{Binding UpdateCommand}"
                            Margin="6,0"/>
                    <Button Content="Delete"
                            Width="100" Height="32"
                            Background="#F44336"
                            Foreground="White"
                            Command="{Binding DeleteCommand}"
                            Margin="6,0"/>
                    <Button Content="Clear"
                            Width="100" Height="32"
                            Background="#9E9E9E"
                            Foreground="White"
                            Command="{Binding ClearCommand}"
                            Margin="6,0"/>
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- DATAGRID -->
        <DataGrid x:Name="SalaryDataGrid"
                  Grid.Row="2"
                  ItemsSource="{Binding Salaries}"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  SelectionMode="Single"
                  SelectedItem="{Binding SelectedSalary, Mode=TwoWay}"
                  Margin="0,10,0,10"
                  BorderBrush="#DDD"
                  BorderThickness="1"
                  RowHeaderWidth="0"
                  AlternationCount="2">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Employee" Binding="{Binding Employee.Name}" Width="*" />
                <DataGridTextColumn Header="Hourly Rate (£)" Binding="{Binding HourlyRate, StringFormat={}{0:F2}}" Width="120" />
                <DataGridTextColumn Header="Hours Worked" Binding="{Binding HoursWorked}" Width="120" />
                <DataGridTextColumn Header="Total Pay (£)" Binding="{Binding TotalPay, StringFormat={}{0:F2}}" Width="120" />
                <DataGridTextColumn Header="Pay Date" Binding="{Binding PayDate, StringFormat={}{0:dd/MM/yyyy HH:mm}}" Width="160" />
                <DataGridTextColumn Header="Notes" Binding="{Binding Notes}" Width="2*" />
            </DataGrid.Columns>
        </DataGrid>

        <!-- FOOTER BUTTONS -->
        <StackPanel Grid.Row="3"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Margin="0,10,0,0">
            <Button Content="Print"
                    Width="120" Height="35"
                    Background="#E91E63"
                    Foreground="White"
                    Command="{Binding PrintCommand}"
                    Margin="6,0"/>
            <Button Content="Exit"
                    Width="120" Height="35"
                    Background="#444"
                    Foreground="White"
                    Click="Exit_Click"
                    Margin="6,0"/>
        </StackPanel>

    </Grid>
</Window>
